@use "uswds-core" as *;
@use "usa-in-page-navigation" as *;


@mixin generate-in-page-nav-nesting($list-selector,$left-padding-width, $depth, $i: 1){
  @if $i <= $depth {
    ul.#{$list-selector} {
      .usa-in-page-nav__item a {
        padding-left: #{$left-padding-width * $i}rem;
      }
      @include generate-in-page-nav-nesting($list-selector,$left-padding-width, $depth, $i + 1);
    }
  }
}

.usa-in-page-nav__item {
  a:not(.usa-button) {
//    padding: units(0.5) units($sidenav-level-1-inset);
  }
  code {
    @include typeset('mono', "2xs", 3);
  }
}

.site-in-page-nav {
  @extend .usa-in-page-nav;
  max-height: 95vh;
  overflow-y: hidden;

//  @include generate-in-page-nav-nesting('usa-in-page-nav__list',0.90, 12);
}

.site-in-page-nav__link {
  @extend .usa-in-page-nav__link !optional;

  &.h3 {
    margin-left: units(1);
  }

  &.h4 {
    margin-left: units(2);
  }

  &.h5 {
    margin-left: units(3);
  }

  &.h6 {
    margin-left: units(4);
  }
}

.usa-in-page-nav__list {
  /* revert background left border */
  a:not(.usa-button) {
    &:not(.usa-current) {
      color: inherit;
      &:visited {
        color: inherit;
      }
    }
    &.usa-current {
      color: #005ea2;
      font-weight: bold;
      &::after {
        background-color: inherit;
      }
    }
  }

  &.usa-current {
    &::after {
      background-color: inherit;
    }
  }
}